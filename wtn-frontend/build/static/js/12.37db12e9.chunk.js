(this["webpackJsonpdevias-material-kit-pro"]=this["webpackJsonpdevias-material-kit-pro"]||[]).push([[12],{1044:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return re}));var n=a(15),r=a(0),c=a.n(r),o=a(263),s=a(40),l=a(24),i=a(1),u=a.n(i),m=a(4),d=a(16),p=a(3),g=a(841),f=a(848),h=a(839),b=a(76),v=a(827),E=a(264),w=a(821),j=a(834),x=a(822),O=a(808),P=a(831),N=a(861),C=a(864),y=a(874),k=a(215),I=a(53),B=c.a.createContext(),R=function(){var e=c.a.useContext(B);if(void 0===e)throw new Error("useQuestionsContext must be used within a QuestionProvider");return e},S=function(e){var t=c.a.useState([]),a=Object(d.a)(t,2),n=a[0],r=a[1],o=c.a.useState(!0),s=Object(d.a)(o,2),l=s[0],i=s[1],p=c.a.useState(null),g=Object(d.a)(p,2),f=g[0],h=g[1],b=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("/questions");case 3:return e.next=5,e.sent.data;case 5:t=e.sent,r(t.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),h(e.t0),i(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){b()}),[]);var v=c.a.useMemo((function(){return{questions:n,loading:l,error:f,addQuestion:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("/questions",t);case 3:return e.next=5,e.sent.data;case 5:return a=e.sent,b(),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),h(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),updateQuestion:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.put("/questions/".concat(t.id),t);case 3:return e.next=5,e.sent.data;case 5:return a=e.sent,b(),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),h(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),deleteQuestion:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.delete("/questions/".concat(t));case 3:return e.next=5,e.sent.data;case 5:return a=e.sent,b(),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),h(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}}),[n,l,f]);return c.a.createElement(B.Provider,{value:v},e.children)},A=["adornment","className","register"],T=["className","openAddQuestionModal"],W=Object(o.a)((function(){return{root:{},modal:{display:"flex",alignItems:"center",justifyContent:"center"},card:{maxHeight:"90vh",overflow:"auto","&::-webkit-scrollbar":{width:0}},form:{width:"100%",maxWidth:"700px",position:"relative"},submitBtn:{padding:"0.5rem 3rem"},multiAnswers:{display:"flex",marginBottom:"0.5rem",alignItems:"center"},label:{marginBottom:"0.75rem"}}})),_={content:"",subject:"",answers:[{content:"",short_name:"A",status:!1},{content:"",short_name:"B",status:!1},{content:"",short_name:"C",status:!1},{content:"",short_name:"D",status:!1}]},Q=function(e){var t=e.adornment,a=e.className,r=e.register,o=Object(n.a)(e,A),s=W();return c.a.createElement(g.a,Object.assign({},r,o,{className:Object(p.a)(s.multiAnswers,a),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:c.a.createElement(f.a,{position:"start"},t)}}))},M=function(e){var t,a=e.className,r=(e.openAddQuestionModal,Object(n.a)(e,T)),o=c.a.useState([]),s=Object(d.a)(o,2),i=s[0],f=s[1],B=W(),S=Object(y.a)(!1),A=Object(k.e)({defaultValues:_}),M=R().addQuestion,L=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:console.log(t),A.reset();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.useEffect((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/subjects");case 2:return e.next=4,e.sent.data;case 4:t=e.sent,f(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",Object.assign({},r,{className:Object(p.a)(B.root,a)}),c.a.createElement(h.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},c.a.createElement(h.a,{item:!0},c.a.createElement(b.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Qu\u1ea3n l\xfd"),c.a.createElement(b.a,{component:"h1",variant:"h3"},"C\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m")),c.a.createElement(h.a,{item:!0},c.a.createElement(v.a,{onClick:S.handleOpen,color:"primary",variant:"contained"},"Th\xeam c\xe2u h\u1ecfi")))),c.a.createElement(E.a,{className:B.modal,open:S.is_open,onClose:S.handleClose},c.a.createElement(w.a,{className:B.card},c.a.createElement(j.a,{title:c.a.createElement(b.a,{variant:"h2"},"Th\xeam c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m")}),c.a.createElement(x.a,null,c.a.createElement("form",{className:B.form,onSubmit:A.handleSubmit(L),autoComplete:"off"},c.a.createElement(h.a,{container:!0,spacing:4},c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(O.a,{className:B.label,component:"legend"},"N\u1ed9i dung c\xe2u h\u1ecfi"),c.a.createElement(g.a,Object.assign({},A.register("content"),{fullWidth:!0,multiline:!0,rows:4,variant:"outlined"}))),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(O.a,{className:B.label,component:"legend"},"M\xf4n h\u1ecdc"),c.a.createElement(k.a,{name:"subject_id",control:A.control,render:function(e){var t=e.field;return c.a.createElement(g.a,Object.assign({disabled:i.length<=0,select:!0},t,{variant:"outlined",fullWidth:!0}),i.map((function(e){return c.a.createElement(P.a,{key:e.id,value:e.id},e.name)})))}})),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(O.a,{className:B.label,component:"legend"},"C\xe2u tr\u1ea3 l\u1eddi"),null===(t=A.getValues("answers"))||void 0===t?void 0:t.map((function(e,t){return c.a.createElement(N.a,{key:e.short_name,className:B.multiAnswers},c.a.createElement(Q,{register:Object(l.a)({},A.register("answers.".concat(t,".content"))),adornment:e.short_name+"."}),c.a.createElement(C.a,Object.assign({},A.register("answers.".concat(t,".status")),{color:"primary"})))}))),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(v.a,{className:B.submitBtn,type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Th\xeam c\xe2u h\u1ecfi"))))))))},L=a(114),q=a.n(L),V=a(824),z=a(854),D=a(900),G=a(856),H=a(850),F=a(855),J=a(835),K=a(903),X=a(871),U=["adornment","className","register"],Y=["className","reviewQuestion"],Z=Object(o.a)((function(e){return{root:{},content:{padding:0},inner:{minWidth:700},nameCell:{display:"flex",alignItems:"center"},avatar:{height:42,width:42,marginRight:e.spacing(1)},actions:{padding:e.spacing(1),justifyContent:"flex-end"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},card:{maxHeight:"90vh",overflow:"auto","&::-webkit-scrollbar":{width:0}},form:{width:"100%",maxWidth:"700px",position:"relative"},submitBtn:{padding:"0.5rem 3rem"},multiAnswers:{display:"flex",marginBottom:"0.5rem",alignItems:"center"},label:{marginBottom:"0.75rem"}}})),$=function(e){var t=e.adornment,a=e.className,r=e.register,o=Object(n.a)(e,U),s=Z();return c.a.createElement(g.a,Object.assign({},r,o,{className:Object(p.a)(s.multiAnswers,a),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:c.a.createElement(f.a,{position:"start"},t)}}))},ee=function(e){var t,a=e.className,r=(e.reviewQuestion,Object(n.a)(e,Y)),o=Z(),i=Object(y.a)(!1),f=Object(k.e)(),B=R(),S=B.questions,A=B.updateQuestion,T=B.deleteQuestion,W=c.a.useState([]),_=Object(d.a)(W,2),Q=_[0],M=_[1];c.a.useEffect((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/subjects");case 2:return e.next=4,e.sent.data;case 4:t=e.sent,M(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(Q);var U=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/questions/".concat(t));case 2:return e.next=4,e.sent.data;case 4:a=e.sent,f.setValue("id",t),f.setValue("content",a.data.content),f.setValue("subject_id",a.data.subject_id),f.setValue("answers",a.data.answers),i.handleOpen();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(X.a)(),te=ee.page,ae=ee.rowsPerPage,ne=ee.handleChangePage,re=ee.handleChangeRowsPerPage;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",Object.assign({},r,{className:Object(p.a)(o.root,a)}),c.a.createElement(b.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"T\u1ed5ng ",S.length," C\xe2u h\u1ecfi"),c.a.createElement(w.a,null,c.a.createElement(j.a,{action:c.a.createElement(s.e,null),title:"T\u1ea5t c\u1ea3 c\xe2u h\u1ecfi"}),c.a.createElement(V.a,null),c.a.createElement(x.a,{className:o.content},c.a.createElement(q.a,null,c.a.createElement("div",{className:o.inner},c.a.createElement(z.a,null,c.a.createElement(D.a,null,c.a.createElement(G.a,null,c.a.createElement(H.a,null,"N\u1ed9i dung"),c.a.createElement(H.a,null,"M\xf4n h\u1ecdc"),c.a.createElement(H.a,{align:"right"},"T\xe1c v\u1ee5"))),c.a.createElement(F.a,null,S.slice(0,ae).map((function(e){return c.a.createElement(G.a,{hover:!0,key:e.id},c.a.createElement(H.a,null,c.a.createElement("div",{className:o.nameCell},c.a.createElement("div",null,c.a.createElement(b.a,{color:"inherit",variant:"h6"},e.content)))),c.a.createElement(H.a,null,e.subject_name),c.a.createElement(H.a,{align:"right"},c.a.createElement(v.a,{color:"primary",size:"small",variant:"outlined",onClick:function(){return U(e.id)}},"Chi ti\u1ebft")))}))))))),c.a.createElement(J.a,{className:o.actions},c.a.createElement(K.a,{component:"div",count:S.length,onChangePage:ne,onChangeRowsPerPage:re,page:te,rowsPerPage:ae,rowsPerPageOptions:[5,10,25]})))),c.a.createElement(E.a,{className:o.modal,open:i.is_open,onClose:i.handleClose},c.a.createElement(w.a,{className:o.card},c.a.createElement(j.a,{title:c.a.createElement(b.a,{variant:"h2"},"Th\xeam c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m")}),c.a.createElement(x.a,null,c.a.createElement("form",{className:o.form,onSubmit:f.handleSubmit(L),autoComplete:"off"},c.a.createElement(h.a,{container:!0,spacing:4},c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(O.a,{className:o.label,component:"legend"},"N\u1ed9i dung c\xe2u h\u1ecfi"),c.a.createElement(g.a,Object.assign({},f.register("content"),{fullWidth:!0,multiline:!0,rows:4,variant:"outlined"}))),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(O.a,{className:o.label,component:"legend"},"M\xf4n h\u1ecdc"),c.a.createElement(k.a,{name:"subject_id",control:f.control,render:function(e){var t=e.field;return c.a.createElement(g.a,Object.assign({disabled:(null===Q||void 0===Q?void 0:Q.length)<=0,select:!0},t,{variant:"outlined",fullWidth:!0}),null===Q||void 0===Q?void 0:Q.map((function(e){return c.a.createElement(P.a,{key:e.id,value:e.id},e.name)})))}})),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(O.a,{className:o.label,component:"legend"},"C\xe2u tr\u1ea3 l\u1eddi"),null===(t=f.getValues("answers"))||void 0===t?void 0:t.map((function(e,t){return c.a.createElement(N.a,{key:t,className:o.multiAnswers},c.a.createElement($,{register:Object(l.a)({},f.register("answers.".concat(t,".content"))),adornment:t+"."}),c.a.createElement(C.a,Object.assign({defaultChecked:e.status},f.register("answers.".concat(t,".status")),{color:"primary"})))}))),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(v.a,{className:o.submitBtn,type:"submit",variant:"contained",color:"primary",fullWidth:!0},"C\u1eadp nh\u1eadt"),c.a.createElement(s.d,{className:o.submitBtn,variant:"contained",fullWidth:!0,style:{marginTop:"10px"},onClick:function(){T(f.getValues("id")),i.handleClose()}},"X\xf3a c\xe2u h\u1ecfi"))))))))};ee.defaultProps={questions:[]};var te=ee,ae=(a(274),a(840),a(132),a(273),a(27),Object(o.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},drawer:{width:420,maxWidth:"100%"},header:{padding:e.spacing(2,1),display:"flex",justifyContent:"space-between"},buttonIcon:{marginRight:e.spacing(1)},content:{padding:e.spacing(0,3),flexGrow:1},actions:{padding:e.spacing(3),"& > * + *":{marginTop:e.spacing(2)}}}})),a(151),a(508),a(98),Object(o.a)((function(e){return{root:{display:"flex",alignItems:"center"},search:{flexGrow:1,height:42,padding:e.spacing(0,2),display:"flex",alignItems:"center"},searchIcon:{marginRight:e.spacing(2),color:e.palette.icon},searchInput:{flexGrow:1},searchButton:{marginLeft:e.spacing(2)}}})),Object(o.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},search:{flexGrow:1,maxWidth:480,flexBasis:480},filterButton:{marginLeft:"auto"},filterIcon:{marginRight:e.spacing(1)}}})),["headless","className"]),ne=Object(o.a)((function(e){return{root:{padding:e.spacing(3)},results:{marginTop:e.spacing(3)},modal:{display:"grid",placeItems:"center"}}})),re=function(e){var t=e.headless,a=e.className,r=Object(n.a)(e,ae),o=ne();return c.a.createElement(S,null,c.a.createElement(s.i,Object.assign({},r,{className:Object(p.a)(o.root,a),title:"Ng\xe2n h\xe0ng c\xe2u h\u1ecfi"}),!t&&c.a.createElement(M,null),c.a.createElement(te,{className:o.results})))}},871:function(e,t,a){"use strict";var n=a(16),r=a(0).useState;t.a=function(){var e=r(0),t=Object(n.a)(e,2),a=t[0],c=t[1],o=r(10),s=Object(n.a)(o,2),l=s[0],i=s[1];return{page:a,rowsPerPage:l,handleChangePage:function(e,t){c(t)},handleChangeRowsPerPage:function(e){i(e.target.value)}}}},874:function(e,t,a){"use strict";var n=a(16),r=a(0);t.a=function(e){var t=Object(r.useState)(e),a=Object(n.a)(t,2),c=a[0],o=a[1];return{is_open:c,handleClose:function(){o(!1)},handleOpen:function(){o(!0)}}}},877:function(e,t,a){"use strict";var n=a(0),r=a(45);t.a=Object(r.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},878:function(e,t,a){"use strict";var n=a(0),r=a(45);t.a=Object(r.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},900:function(e,t,a){"use strict";var n=a(2),r=a(6),c=a(0),o=(a(7),a(3)),s=a(9),l=a(116),i={variant:"head"},u=c.forwardRef((function(e,t){var a=e.classes,s=e.className,u=e.component,m=void 0===u?"thead":u,d=Object(r.a)(e,["classes","className","component"]);return c.createElement(l.a.Provider,{value:i},c.createElement(m,Object(n.a)({className:Object(o.a)(a.root,s),ref:t,role:"thead"===m?null:"rowgroup"},d)))}));t.a=Object(s.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(u)},903:function(e,t,a){"use strict";var n=a(2),r=a(6),c=a(0),o=(a(7),a(3)),s=a(9),l=a(509),i=a(831),u=a(813),m=a(850),d=a(819),p=a(76),g=a(878),f=a(877),h=a(37),b=a(799),v=c.createElement(f.a,null),E=c.createElement(g.a,null),w=c.createElement(g.a,null),j=c.createElement(f.a,null),x=c.forwardRef((function(e,t){var a=e.backIconButtonProps,o=e.count,s=e.nextIconButtonProps,l=e.onChangePage,i=void 0===l?function(){}:l,u=e.onPageChange,m=void 0===u?function(){}:u,d=e.page,p=e.rowsPerPage,g=Object(r.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","onPageChange","page","rowsPerPage"]),f=Object(h.a)();return c.createElement("div",Object(n.a)({ref:t},g),c.createElement(b.a,Object(n.a)({onClick:function(e){i(e,d-1),m(e,d-1)},disabled:0===d,color:"inherit"},a),"rtl"===f.direction?v:E),c.createElement(b.a,Object(n.a)({onClick:function(e){i(e,d+1),m(e,d+1)},disabled:-1!==o&&d>=Math.ceil(o/p)-1,color:"inherit"},s),"rtl"===f.direction?w:j))})),O=a(115),P=function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," of ").concat(-1!==n?n:"more than ".concat(a))},N=[10,25,50,100],C=c.forwardRef((function(e,t){var a,s=e.ActionsComponent,g=void 0===s?x:s,f=e.backIconButtonProps,h=e.backIconButtonText,b=void 0===h?"Previous page":h,v=e.classes,E=e.className,w=e.colSpan,j=e.component,C=void 0===j?m.a:j,y=e.count,k=e.labelDisplayedRows,I=void 0===k?P:k,B=e.labelRowsPerPage,R=void 0===B?"Rows per page:":B,S=e.nextIconButtonProps,A=e.nextIconButtonText,T=void 0===A?"Next page":A,W=e.onChangePage,_=e.onPageChange,Q=e.onChangeRowsPerPage,M=e.onRowsPerPageChange,L=e.page,q=e.rowsPerPage,V=e.rowsPerPageOptions,z=void 0===V?N:V,D=e.SelectProps,G=void 0===D?{}:D,H=Object(r.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onPageChange","onChangeRowsPerPage","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps"]),F=Q||M;C!==m.a&&"td"!==C||(a=w||1e3);var J=Object(O.a)(),K=Object(O.a)(),X=G.native?"option":i.a;return c.createElement(C,Object(n.a)({className:Object(o.a)(v.root,E),colSpan:a,ref:t},H),c.createElement(d.a,{className:v.toolbar},c.createElement("div",{className:v.spacer}),z.length>1&&c.createElement(p.a,{color:"inherit",variant:"body2",className:v.caption,id:K},R),z.length>1&&c.createElement(u.a,Object(n.a)({classes:{select:v.select,icon:v.selectIcon},input:c.createElement(l.a,{className:Object(o.a)(v.input,v.selectRoot)}),value:q,onChange:F,id:J,labelId:K},G),z.map((function(e){return c.createElement(X,{className:v.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),c.createElement(p.a,{color:"inherit",variant:"body2",className:v.caption},I({from:0===y?0:L*q+1,to:-1!==y?Math.min(y,(L+1)*q):(L+1)*q,count:-1===y?-1:y,page:L})),c.createElement(g,{className:v.actions,backIconButtonProps:Object(n.a)({title:b,"aria-label":b},f),count:y,nextIconButtonProps:Object(n.a)({title:T,"aria-label":T},S),onChangePage:W,onPageChange:_,page:L,rowsPerPage:q})))}));t.a=Object(s.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(C)}}]);
//# sourceMappingURL=12.37db12e9.chunk.js.map