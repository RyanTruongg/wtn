{"version":3,"sources":["views/_AdminViews_/Courses/components/AddCourseCard/AddCourseCard.js","views/_AdminViews_/Courses/hooks/course-context.js","views/_AdminViews_/Courses/components/AddCourseForm/AddCourseForm.js","views/_AdminViews_/Courses/components/Header/Header.js","views/_AdminViews_/Courses/Courses.js","hooks/use-modal.js"],"names":["useStyles","makeStyles","theme","root","minHeight","height","cardAction","display","placeItems","AddCourseCard","props","classes","onClick","rest","Card","className","CardActionArea","fontSize","coursesContext","React","createContext","useCourseContext","context","useContext","undefined","Error","CoursesProvider","useState","courses","setCourses","instructors","setInstructors","loading","setLoading","error","setError","getInstructors","a","axios","get","response","filterdInstructors","data","filter","user","customClaims","role","getCourses","res","useEffect","value","useMemo","addCourse","course","post","Provider","children","modal","alignItems","justifyContent","form","width","maxWidth","AddCourseForm","handleClose","useForm","onSubmit","reset","CardHeader","title","Typography","variant","CardContent","handleSubmit","autoComplete","Grid","container","spacing","item","xs","FormControl","fullWidth","FormLabel","component","TextField","register","Select","disabled","length","map","instructor","MenuItem","key","uid","displayName","selected","Button","type","color","formState","isSubmitting","propsType","Header","openAddSomeoneModal","clsx","justify","gutterBottom","padding","header","marginBottom","list","marginTop","paginate","divider","backgroundColor","CourseList","handleOpen","sm","md","id","pageCount","pageRangeDisplayed","Courses","useModal","open","Modal","onClose","initialState","setOpen"],"mappings":"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","file":"static/js/16.e2ebca37.chunk.js","sourcesContent":["import React from \"react\";\nimport { Card, CardActionArea } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    minHeight: \"192px\",\n    height: \"100%\",\n  },\n  cardAction: {\n    height: \"100%\",\n    display: \"grid\",\n    placeItems: \"center\",\n  },\n}));\n\nconst AddCourseCard = props => {\n  const classes = useStyles();\n  const { onClick, ...rest } = props;\n\n  return (\n    <Card {...rest} className={classes.root}>\n      <CardActionArea onClick={onClick} className={classes.cardAction}>\n        <AddIcon fontSize=\"large\" />\n      </CardActionArea>\n    </Card>\n  );\n};\n\nAddCourseCard.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default AddCourseCard;\n","import React from \"react\";\nimport axios from \"services/axios\";\n\nconst coursesContext = React.createContext();\n\nexport const useCourseContext = () => {\n  const context = React.useContext(coursesContext);\n  if (context === undefined) {\n    throw new Error(\"useCourseContext must be used within a CourseProvider\");\n  }\n  return context;\n};\n\nexport const CoursesProvider = (props) => {\n  const [courses, setCourses] = React.useState([]);\n  const [instructors, setInstructors] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  const getInstructors = async () => {\n    try {\n      const response = await axios.get(\"/users\");\n      const filterdInstructors = response.data.data.filter(\n        (user) => user.customClaims?.role === \"instructor\"\n      );\n      setInstructors(filterdInstructors);\n    } catch (error) {\n      setError(error);\n    }\n  };\n\n  const getCourses = async () => {\n    try {\n      const res = await (await axios.get(\"/courses\")).data;\n\n      setCourses(res.data);\n      setLoading(false);\n    } catch (error) {\n      setError(error);\n      setLoading(false);\n    }\n  };\n\n  React.useEffect(() => {\n    getCourses();\n    getInstructors();\n  }, []);\n\n  const value = React.useMemo(() => {\n    const addCourse = async (course) => {\n      try {\n        const res = await (await axios.post(\"/courses\", course)).data;\n        getCourses();\n        return res;\n      } catch (error) {\n        setError(error);\n      }\n    };\n\n    return {\n      courses,\n      loading,\n      error,\n      addCourse,\n      instructors,\n    };\n  }, [courses, loading, error, instructors]);\n\n  return (\n    <coursesContext.Provider value={value}>\n      {props.children}\n    </coursesContext.Provider>\n  );\n};\n","import React from \"react\";\nimport {\n  Typography,\n  TextField,\n  FormLabel,\n  Card,\n  CardHeader,\n  CardContent,\n  Grid,\n  FormControl,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Button } from \"@material-ui/core\";\nimport { useForm } from \"react-hook-form\";\nimport { useCourseContext } from \"../../hooks/course-context\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  form: {\n    width: \"100%\",\n    maxWidth: \"600px\",\n  },\n}));\n\nconst AddCourseForm = (props) => {\n  const classes = useStyles();\n  const { handleClose, ...rest } = props;\n  const form = useForm();\n  const { addCourse, instructors } = useCourseContext();\n\n  const onSubmit = async (data) => {\n    await addCourse(data);\n    form.reset();\n    handleClose();\n  };\n\n  return (\n    <Card {...rest}>\n      <CardHeader title={<Typography variant=\"h2\">Thêm khóa học</Typography>} />\n      <CardContent>\n        <form\n          className={classes.form}\n          onSubmit={form.handleSubmit(onSubmit)}\n          autoComplete=\"off\"\n        >\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <FormControl fullWidth variant=\"outlined\">\n                <FormLabel component=\"legend\">Tên khóa học</FormLabel>\n                <TextField\n                  {...form.register(\"name\")}\n                  fullWidth\n                  variant=\"outlined\"\n                />\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormControl fullWidth variant=\"outlined\">\n                <FormLabel component=\"legend\">Giảng viên</FormLabel>\n                <Select\n                  disabled={instructors.length <= 0}\n                  {...form.register(\"instructor_id\")}\n                >\n                  {instructors.map((instructor) => (\n                    <MenuItem key={instructor.uid} value={instructor.uid}>\n                      {instructor.displayName}\n                    </MenuItem>\n                  ))}\n                  {instructors.length <= 0 && (\n                    <MenuItem selected disabled value={null}>\n                      Không có giảng viên\n                    </MenuItem>\n                  )}\n                </Select>\n              </FormControl>\n            </Grid>\n\n            <Grid item xs={12}>\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={form.formState.isSubmitting}\n              >\n                Thêm\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </CardContent>\n    </Card>\n  );\n};\n\nAddCourseForm.propsType = {};\n\nexport default AddCourseForm;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Grid, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  form: {\n    width: \"100%\",\n    maxWidth: \"600px\",\n  },\n}));\n\nconst Header = (props) => {\n  const { className, openAddSomeoneModal, ...rest } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div {...rest} className={clsx(classes.root, className)}>\n      <Grid alignItems=\"flex-end\" container justify=\"space-between\" spacing={3}>\n        <Grid item>\n          <Typography component=\"h2\" gutterBottom variant=\"overline\">\n            Quản lý\n          </Typography>\n          <Typography component=\"h1\" variant=\"h3\">\n            Khóa học\n          </Typography>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default Header;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Page, Paginate } from \"components\";\nimport { Grid, Modal } from \"@material-ui/core\";\nimport { CourseCard } from \"components\";\nimport AddCourseCard from \"./components/AddCourseCard\";\nimport AddCourseForm from \"./components/AddCourseForm\";\nimport Header from \"./components/Header\";\n\nimport useModal from \"hooks/use-modal\";\n\nimport { CoursesProvider, useCourseContext } from \"./hooks/course-context\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n  },\n  header: {\n    marginBottom: \"0.5rem\",\n  },\n  list: {\n    marginBottom: \"2rem\",\n    marginTop: theme.spacing(3),\n  },\n  paginate: {\n    justifyContent: \"center \",\n    padding: \"0\",\n  },\n  modal: {\n    display: \"grid\",\n    placeItems: \"center\",\n  },\n  divider: {\n    backgroundColor: \"#bdbdbd\",\n    marginBottom: \"1.5rem\",\n  },\n}));\n\nconst CourseList = ({ handleOpen }) => {\n  const classes = useStyles();\n  const { courses } = useCourseContext();\n\n  return (\n    <>\n      <Grid className={classes.list} container spacing={3}>\n        <Grid item xs={12} sm={6} md={4}>\n          <AddCourseCard onClick={handleOpen} />\n        </Grid>\n        {courses.map((course) => (\n          <Grid key={course.id} item xs={12} sm={6} md={4}>\n            <CourseCard course={course} />\n          </Grid>\n        ))}\n      </Grid>\n      <Paginate\n        className={classes.paginate}\n        pageCount={10}\n        pageRangeDisplayed={3}\n      />\n    </>\n  );\n};\n\nconst Courses = () => {\n  const classes = useStyles();\n  const { open, handleOpen, handleClose } = useModal(false);\n\n  return (\n    <CoursesProvider>\n      <Page className={classes.root} title=\"Quản lý khóa học\">\n        <Header />\n        <CourseList handleOpen={handleOpen} />\n      </Page>\n      <Modal className={classes.modal} open={open} onClose={handleClose}>\n        <AddCourseForm handleClose={handleClose} />\n      </Modal>\n    </CoursesProvider>\n  );\n};\n\nexport default Courses;\n","import { useState } from \"react\";\n\nconst useModal = initialState => {\n  const [open, setOpen] = useState(initialState);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return {\n    open,\n    handleClose,\n    handleOpen,\n  };\n};\n\nexport default useModal;\n"],"sourceRoot":""}