(this["webpackJsonpdevias-material-kit-pro"]=this["webpackJsonpdevias-material-kit-pro"]||[]).push([[17],{1046:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return L}));var n=a(0),r=a.n(n),c=a(263),o=a(40),i=a(839),s=a(264),l=a(15),u=a(25),m=a(834),d=a(821),p=a(836),f=a(822),h=a(76),v=a(795),b=a(3),g=["className","course"],E=Object(v.a)((function(e){return{root:{padding:"0 1rem"},title:{color:"white",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"24px","&:hover":{textDecoration:"underline"}},content:{overflow:"hidden"},subheader:{marginTop:"8px",color:"white",whiteSpace:"nowrap"}}}))(m.a),x=Object(c.a)((function(e){return{content:{height:140,padding:e.spacing(2),"& > *":{overflow:"hidden",textOverflow:"ellipsis"}},cardHeader:{height:68,backgroundColor:e.palette.primary.main},icon:{fontSize:"64px",color:"white"},link:{"&:hover *":{textDecoration:"underline"}}}})),O=function(e){var t,a=e.className,n=e.course,c=Object(l.a)(e,g),o=x();return r.a.createElement(d.a,Object.assign({className:Object(b.a)(o.root,a)},c),r.a.createElement(u.a,{to:"/instructor/courses/".concat(n.id)},r.a.createElement(p.a,null,r.a.createElement(E,{title:n.name,subheader:"GV: "+(null===(t=n.instructor)||void 0===t?void 0:t.displayName),className:o.cardHeader,component:"div"}))),r.a.createElement(f.a,{className:o.content},n.tests&&n.tests.map((function(e){return r.a.createElement(u.a,{className:o.link,to:"/classroom/online-test/"+e.id},r.a.createElement(h.a,{color:"textSecondary",variant:"subtitle2",gutterBottom:!0},e.name))}))))},j=a(1),w=a.n(j),C=a(4),k=a(806),y=a(808),N=a(841),S=a(813),T=a(831),W=a(827),B=a(215),I=a(16),D=a(57),M=a(53),_=r.a.createContext(),z=function(){var e=r.a.useContext(_);if(void 0===e)throw new Error("useCourseContext must be used within a CourseProvider");return e},A=function(e){var t=r.a.useState([]),a=Object(I.a)(t,2),c=a[0],o=a[1],i=r.a.useState([]),s=Object(I.a)(i,2),l=s[0],u=s[1],m=r.a.useState(!0),d=Object(I.a)(m,2),p=d[0],f=d[1],h=r.a.useState(null),v=Object(I.a)(h,2),b=v[0],g=v[1],E=Object(D.b)(),x=function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/users");case 3:t=e.sent,a=t.data.data.filter((function(e){var t;return"instructor"===(null===(t=e.customClaims)||void 0===t?void 0:t.role)})),u(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=Object(n.useCallback)(Object(C.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/courses/instructor/"+E.user.user_id);case 3:return e.next=5,e.sent.data;case 5:t=e.sent,o(t.data),f(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),g(e.t0),f(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),[E.user.user_id]);r.a.useEffect((function(){O(),x()}),[O]);var j=r.a.useMemo((function(){return{courses:c,loading:p,error:b,addCourse:function(){var e=Object(C.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("/courses",t);case 3:return e.next=5,e.sent.data;case 5:return a=e.sent,O(),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),g(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),instructors:l}}),[c,p,b,l,O]);return r.a.createElement(_.Provider,{value:j},e.children)},G=["handleClose"],H=Object(c.a)((function(){return{root:{},modal:{display:"flex",alignItems:"center",justifyContent:"center"},form:{width:"100%",maxWidth:"600px"}}})),J=function(e){var t=H(),a=e.handleClose,n=Object(l.a)(e,G),c=Object(B.e)(),o=z(),s=o.addCourse,u=o.instructors,p=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:c.reset(),a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(d.a,n,r.a.createElement(m.a,{title:r.a.createElement(h.a,{variant:"h2"},"Th\xeam kh\xf3a h\u1ecdc")}),r.a.createElement(f.a,null,r.a.createElement("form",{className:t.form,onSubmit:c.handleSubmit(p),autoComplete:"off"},r.a.createElement(i.a,{container:!0,spacing:3},r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(k.a,{fullWidth:!0,variant:"outlined"},r.a.createElement(y.a,{component:"legend"},"T\xean kh\xf3a h\u1ecdc"),r.a.createElement(N.a,Object.assign({},c.register("name"),{fullWidth:!0,variant:"outlined"})))),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(k.a,{fullWidth:!0,variant:"outlined"},r.a.createElement(y.a,{component:"legend"},"Gi\u1ea3ng vi\xean"),r.a.createElement(S.a,Object.assign({disabled:u.length<=0},c.register("instructor_id")),u.map((function(e){return r.a.createElement(T.a,{key:e.uid,value:e.uid},e.displayName)})),u.length<=0&&r.a.createElement(T.a,{selected:!0,disabled:!0,value:null},"Kh\xf4ng c\xf3 gi\u1ea3ng vi\xean")))),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:c.formState.isSubmitting},"Th\xeam"))))))};J.propsType={};var K=J,P=["className","openAddSomeoneModal"],Q=Object(c.a)((function(){return{root:{},modal:{display:"flex",alignItems:"center",justifyContent:"center"},form:{width:"100%",maxWidth:"600px"}}})),F=function(e){var t=e.className,a=(e.openAddSomeoneModal,Object(l.a)(e,P)),n=Q();return r.a.createElement("div",Object.assign({},a,{className:Object(b.a)(n.root,t)}),r.a.createElement(i.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},r.a.createElement(i.a,{item:!0},r.a.createElement(h.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Qu\u1ea3n l\xfd"),r.a.createElement(h.a,{component:"h1",variant:"h3"},"Kh\xf3a h\u1ecdc"))))},R=a(872),V=Object(c.a)((function(e){return{root:{padding:e.spacing(3)},header:{marginBottom:"0.5rem"},list:{marginBottom:"2rem",marginTop:e.spacing(3)},paginate:{justifyContent:"center ",padding:"0"},modal:{display:"grid",placeItems:"center"},divider:{backgroundColor:"#bdbdbd",marginBottom:"1.5rem"}}})),q=function(e){e.handleOpen;var t=V(),a=z().courses;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:t.list,container:!0,spacing:3},a.map((function(e){return r.a.createElement(i.a,{key:e.id,item:!0,xs:12,sm:6,md:4},r.a.createElement(O,{course:e}))}))),r.a.createElement(o.j,{className:t.paginate,pageCount:10,pageRangeDisplayed:3}))},L=function(){var e=V(),t=Object(R.a)(!1),a=t.open,n=t.handleOpen,c=t.handleClose;return r.a.createElement(A,null,r.a.createElement(o.i,{className:e.root,title:"Qu\u1ea3n l\xfd kh\xf3a h\u1ecdc"},r.a.createElement(F,null),r.a.createElement(q,{handleOpen:n})),r.a.createElement(s.a,{className:e.modal,open:a,onClose:c},r.a.createElement(K,{handleClose:c})))}},872:function(e,t,a){"use strict";var n=a(16),r=a(0);t.a=function(e){var t=Object(r.useState)(e),a=Object(n.a)(t,2),c=a[0],o=a[1];return{open:c,handleClose:function(){o(!1)},handleOpen:function(){o(!0)}}}}}]);
//# sourceMappingURL=17.2051ea06.chunk.js.map