{"version":3,"sources":["views/_StudentViews_/Courses/components/CourseCard/CourseCard.js","views/_StudentViews_/Courses/hooks/course-context.js","views/_StudentViews_/Courses/components/AddCourseForm/AddCourseForm.js","views/_StudentViews_/Courses/components/Header/Header.js","views/_StudentViews_/Courses/Courses.js","hooks/use-modal.js"],"names":["StyledCardHeader","withStyles","theme","root","padding","title","color","overflow","textOverflow","whiteSpace","fontSize","textDecoration","content","subheader","marginTop","CardHeader","useStyles","makeStyles","height","spacing","cardHeader","backgroundColor","palette","primary","main","icon","link","CourseCard","props","className","course","rest","classes","Card","clsx","to","id","CardActionArea","name","instructor","displayName","component","CardContent","tests","map","test","Typography","variant","gutterBottom","coursesContext","React","createContext","useCourseContext","context","useContext","undefined","Error","CoursesProvider","useState","courses","setCourses","instructors","setInstructors","loading","setLoading","error","setError","getInstructors","a","axios","get","response","filterdInstructors","data","filter","user","customClaims","role","getCourses","res","useEffect","value","useMemo","addCourse","post","Provider","children","modal","display","alignItems","justifyContent","form","width","maxWidth","AddCourseForm","handleClose","useForm","onSubmit","reset","handleSubmit","autoComplete","Grid","container","item","xs","FormControl","fullWidth","FormLabel","TextField","register","Select","disabled","length","MenuItem","key","uid","selected","Button","type","formState","isSubmitting","propsType","Header","openAddSomeoneModal","justify","header","marginBottom","list","paginate","placeItems","divider","CourseList","handleOpen","sm","md","pageCount","pageRangeDisplayed","Courses","useModal","open","Modal","onClose","initialState","setOpen"],"mappings":"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","file":"static/js/18.6214e049.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Card,\n  CardActionArea,\n  CardContent,\n  CardHeader,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles, withStyles } from \"@material-ui/styles\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\n\nconst StyledCardHeader = withStyles((theme) => ({\n  root: {\n    padding: \"0 1rem\",\n  },\n  title: {\n    color: \"white\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    fontSize: \"24px\",\n    \"&:hover\": {\n      textDecoration: \"underline\",\n    },\n  },\n  content: {\n    overflow: \"hidden\",\n  },\n  subheader: {\n    marginTop: \"8px\",\n    color: \"white\",\n    whiteSpace: \"nowrap\",\n  },\n}))(CardHeader);\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    height: 140,\n    padding: theme.spacing(2),\n    \"& > *\": {\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n  },\n  cardHeader: {\n    height: 68,\n    backgroundColor: theme.palette.primary.main,\n  },\n  icon: {\n    fontSize: \"64px\",\n    color: \"white\",\n  },\n  link: {\n    \"&:hover *\": {\n      textDecoration: \"underline\",\n    },\n  },\n}));\n\nconst CourseCard = (props) => {\n  const { className, course, ...rest } = props;\n  const classes = useStyles();\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <Link to={`/student/courses/${course.id}`}>\n        <CardActionArea>\n          <StyledCardHeader\n            title={course.name}\n            subheader={\"GV: \" + course.instructor?.displayName}\n            className={classes.cardHeader}\n            component=\"div\"\n          />\n        </CardActionArea>\n      </Link>\n      <CardContent className={classes.content}>\n        {course.tests &&\n          course.tests.map((test) => (\n            <Link\n              className={classes.link}\n              to={\"/classroom/online-test/\" + test.id}\n            >\n              <Typography\n                color=\"textSecondary\"\n                variant=\"subtitle2\"\n                gutterBottom\n              >\n                {test.name}\n              </Typography>\n            </Link>\n          ))}\n      </CardContent>\n    </Card>\n  );\n};\n\nCourseCard.propTypes = {\n  className: PropTypes.string,\n  course: PropTypes.object.isRequired,\n};\n\nexport default CourseCard;\n","import React from \"react\";\nimport axios from \"services/axios\";\n\nconst coursesContext = React.createContext();\n\nexport const useCourseContext = () => {\n  const context = React.useContext(coursesContext);\n  if (context === undefined) {\n    throw new Error(\"useCourseContext must be used within a CourseProvider\");\n  }\n  return context;\n};\n\nexport const CoursesProvider = (props) => {\n  const [courses, setCourses] = React.useState([]);\n  const [instructors, setInstructors] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  const getInstructors = async () => {\n    try {\n      const response = await axios.get(\"/users\");\n      const filterdInstructors = response.data.data.filter(\n        (user) => user.customClaims?.role === \"instructor\"\n      );\n      setInstructors(filterdInstructors);\n    } catch (error) {\n      setError(error);\n    }\n  };\n\n  const getCourses = async () => {\n    try {\n      const res = await (await axios.get(\"/courses\")).data;\n\n      setCourses(res.data);\n      setLoading(false);\n    } catch (error) {\n      setError(error);\n      setLoading(false);\n    }\n  };\n\n  React.useEffect(() => {\n    getCourses();\n    getInstructors();\n  }, []);\n\n  const value = React.useMemo(() => {\n    const addCourse = async (course) => {\n      try {\n        const res = await (await axios.post(\"/courses\", course)).data;\n        getCourses();\n        return res;\n      } catch (error) {\n        setError(error);\n      }\n    };\n\n    return {\n      courses,\n      loading,\n      error,\n      addCourse,\n      instructors,\n    };\n  }, [courses, loading, error, instructors]);\n\n  return (\n    <coursesContext.Provider value={value}>\n      {props.children}\n    </coursesContext.Provider>\n  );\n};\n","import React from \"react\";\nimport {\n  Typography,\n  TextField,\n  FormLabel,\n  Card,\n  CardHeader,\n  CardContent,\n  Grid,\n  FormControl,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Button } from \"@material-ui/core\";\nimport { useForm } from \"react-hook-form\";\nimport { useCourseContext } from \"../../hooks/course-context\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  form: {\n    width: \"100%\",\n    maxWidth: \"600px\",\n  },\n}));\n\nconst AddCourseForm = (props) => {\n  const classes = useStyles();\n  const { handleClose, ...rest } = props;\n  const form = useForm();\n  const { addCourse, instructors } = useCourseContext();\n\n  const onSubmit = async (data) => {\n    await addCourse(data);\n    form.reset();\n    handleClose();\n  };\n\n  return (\n    <Card {...rest}>\n      <CardHeader title={<Typography variant=\"h2\">Thêm khóa học</Typography>} />\n      <CardContent>\n        <form\n          className={classes.form}\n          onSubmit={form.handleSubmit(onSubmit)}\n          autoComplete=\"off\"\n        >\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <FormControl fullWidth variant=\"outlined\">\n                <FormLabel component=\"legend\">Tên khóa học</FormLabel>\n                <TextField\n                  {...form.register(\"name\")}\n                  fullWidth\n                  variant=\"outlined\"\n                />\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormControl fullWidth variant=\"outlined\">\n                <FormLabel component=\"legend\">Giảng viên</FormLabel>\n                <Select\n                  disabled={instructors.length <= 0}\n                  {...form.register(\"instructor_id\")}\n                >\n                  {instructors.map((instructor) => (\n                    <MenuItem key={instructor.uid} value={instructor.uid}>\n                      {instructor.displayName}\n                    </MenuItem>\n                  ))}\n                  {instructors.length <= 0 && (\n                    <MenuItem selected disabled value={null}>\n                      Không có giảng viên\n                    </MenuItem>\n                  )}\n                </Select>\n              </FormControl>\n            </Grid>\n\n            <Grid item xs={12}>\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={form.formState.isSubmitting}\n              >\n                Thêm\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </CardContent>\n    </Card>\n  );\n};\n\nAddCourseForm.propsType = {};\n\nexport default AddCourseForm;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Grid, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  form: {\n    width: \"100%\",\n    maxWidth: \"600px\",\n  },\n}));\n\nconst Header = (props) => {\n  const { className, openAddSomeoneModal, ...rest } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div {...rest} className={clsx(classes.root, className)}>\n      <Grid alignItems=\"flex-end\" container justify=\"space-between\" spacing={3}>\n        <Grid item>\n          <Typography component=\"h2\" gutterBottom variant=\"overline\">\n            Quản lý\n          </Typography>\n          <Typography component=\"h1\" variant=\"h3\">\n            Khóa học\n          </Typography>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default Header;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Page, Paginate } from \"components\";\nimport { Grid, Modal } from \"@material-ui/core\";\nimport CourseCard from \"./components/CourseCard\";\nimport AddCourseForm from \"./components/AddCourseForm\";\nimport Header from \"./components/Header\";\n\nimport useModal from \"hooks/use-modal\";\n\nimport { CoursesProvider, useCourseContext } from \"./hooks/course-context\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n  },\n  header: {\n    marginBottom: \"0.5rem\",\n  },\n  list: {\n    marginBottom: \"2rem\",\n    marginTop: theme.spacing(3),\n  },\n  paginate: {\n    justifyContent: \"center \",\n    padding: \"0\",\n  },\n  modal: {\n    display: \"grid\",\n    placeItems: \"center\",\n  },\n  divider: {\n    backgroundColor: \"#bdbdbd\",\n    marginBottom: \"1.5rem\",\n  },\n}));\n\nconst CourseList = ({ handleOpen }) => {\n  const classes = useStyles();\n  const { courses } = useCourseContext();\n\n  return (\n    <>\n      <Grid className={classes.list} container spacing={3}>\n        {courses.map((course) => (\n          <Grid key={course.id} item xs={12} sm={6} md={4}>\n            <CourseCard course={course} />\n          </Grid>\n        ))}\n      </Grid>\n      <Paginate\n        className={classes.paginate}\n        pageCount={10}\n        pageRangeDisplayed={3}\n      />\n    </>\n  );\n};\n\nconst Courses = () => {\n  const classes = useStyles();\n  const { open, handleOpen, handleClose } = useModal(false);\n\n  return (\n    <CoursesProvider>\n      <Page className={classes.root} title=\"Quản lý khóa học\">\n        <Header />\n        <CourseList handleOpen={handleOpen} />\n      </Page>\n      <Modal className={classes.modal} open={open} onClose={handleClose}>\n        <AddCourseForm handleClose={handleClose} />\n      </Modal>\n    </CoursesProvider>\n  );\n};\n\nexport default Courses;\n","import { useState } from \"react\";\n\nconst useModal = initialState => {\n  const [open, setOpen] = useState(initialState);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return {\n    open,\n    handleClose,\n    handleOpen,\n  };\n};\n\nexport default useModal;\n"],"sourceRoot":""}