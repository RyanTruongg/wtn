(this["webpackJsonpdevias-material-kit-pro"]=this["webpackJsonpdevias-material-kit-pro"]||[]).push([[4],{1041:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return ye}));var n=t(0),r=t.n(n),c=t(27),l=t(263),s=t(8),u=t(1056),o=t(1037),i=t(824),m=t(40),d=t(16),p=t(15),v=t(3),h=t(861),f=t(264),g=t(838),b=t(114),E=t.n(b),O=t(76),j=t(821),C=t(834),x=t(822),w=t(854),N=t(900),k=t(856),y=t(850),P=t(855),S=t(866),I=t(835),T=t(903),D=t(871),B=t(1),R=t.n(B),W=t(4),M=t(53),z=r.a.createContext(),A=function(){var e=r.a.useContext(z);if(void 0===e)throw new Error("useCourseDetailsContext must be used within a CourseDetailsProvider");return e},V=function(e){var a=e.courseId,t=r.a.useState([]),l=Object(d.a)(t,2),s=l[0],u=l[1],o=r.a.useState(null),i=Object(d.a)(o,2),m=i[0],p=i[1],v=Object(c.g)(),h=Object(n.useCallback)(Object(W.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/courses/".concat(a));case 3:return e.next=5,e.sent.data;case 5:t=e.sent,u(t.data),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])}))),[a]),f=Object(n.useCallback)(Object(W.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/courses/".concat(a,"/instructor"));case 3:return e.next=5,e.sent.data;case 5:t=e.sent,p(t.data),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])}))),[a]);r.a.useEffect((function(){h(),f()}),[h,f]);var g=r.a.useMemo((function(){return{courseDetails:s,deleteCourse:function(){var e=Object(W.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.delete("/courses/".concat(s.id));case 3:return e.next=5,e.sent.data;case 5:return a=e.sent,v.push("/admin/courses"),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),updateCourse:function(){var e=Object(W.a)(R.a.mark((function e(a){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.put("/courses/".concat(s.id),a);case 3:return e.next=5,e.sent.data;case 5:return t=e.sent,h(),e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}(),courseInstructors:m}}),[s,m,h,v]);return r.a.createElement(z.Provider,{value:g},e.children)},_=r.a.createContext(),F=function(){var e=r.a.useContext(_);if(void 0===e)throw new Error("useStudentInCourseContext must be used within a StudentInCourseProvider");return e},H=function(e){var a=r.a.useState([]),t=Object(d.a)(a,2),c=t[0],l=t[1],s=r.a.useState(!0),u=Object(d.a)(s,2),o=u[0],i=u[1],m=r.a.useState(null),p=Object(d.a)(m,2),v=p[0],h=p[1],f=A().courseDetails,g=Object(n.useCallback)(Object(W.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/user-courses/course/"+f.id);case 3:return e.next=5,e.sent.data;case 5:a=e.sent,l(a.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),h(e.t0),i(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),[f]);r.a.useEffect((function(){f&&g()}),[f,g]);var b=r.a.useMemo((function(){return{studentInCourses:c,loading:o,error:v,addStudentInCourse:function(){var e=Object(W.a)(R.a.mark((function e(a){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("/user-courses",{course_id:f.id,email:a});case 3:return e.next=5,e.sent.data;case 5:return t=e.sent,g(),e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),h(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}(),deleteStudentInCourse:function(){var e=Object(W.a)(R.a.mark((function e(a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.delete("/user-courses/".concat(a,"/").concat(f.id));case 3:g(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}()}}),[c,o,v,g,f.id]);return r.a.createElement(_.Provider,{value:b},e.children)},J=["className"],L=Object(l.a)((function(e){return{root:{},content:{padding:0},inner:{minWidth:700},nameCell:{display:"flex",alignItems:"center"},avatar:{height:42,width:42,marginRight:e.spacing(2)},actions:{padding:e.spacing(1),justifyContent:"flex-end"}}})),X=function(e){var a=e.className,t=Object(p.a)(e,J),n=L(),c=F(),l=c.studentInCourses,s=c.deleteStudentInCourse,u=Object(D.a)(),o=u.page,d=u.rowsPerPage,h=u.handleChangePage,f=u.handleChangeRowsPerPage;return r.a.createElement("div",Object.assign({},t,{className:Object(v.a)(n.root,a)}),r.a.createElement(O.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"T\u1ed5ng ",l.length," h\u1ecdc sinh."),r.a.createElement(j.a,null,r.a.createElement(C.a,{action:r.a.createElement(m.e,null),title:"T\u1ea5t c\u1ea3 h\u1ecdc sinh"}),r.a.createElement(i.a,null),r.a.createElement(x.a,{className:n.content},r.a.createElement(E.a,null,r.a.createElement("div",{className:n.inner},r.a.createElement(w.a,null,r.a.createElement(N.a,null,r.a.createElement(k.a,null,r.a.createElement(y.a,null,"T\xean h\u1ecdc sinh & email"),r.a.createElement(y.a,{align:"right"},"T\xe1c v\u1ee5"))),r.a.createElement(P.a,null,l.slice(0,d).map((function(e){return r.a.createElement(k.a,{hover:!0,key:e.id},r.a.createElement(y.a,null,r.a.createElement("div",{className:n.nameCell},r.a.createElement(S.a,{src:e.photoURL,className:n.avatar}),r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h6"},e.displayName),r.a.createElement("div",null,e.email)))),r.a.createElement(y.a,{align:"right"},r.a.createElement(m.d,{onClick:function(){return s(e.uid)},size:"small",variant:"outlined"},"X\xf3a")))}))))))),r.a.createElement(I.a,{className:n.actions},r.a.createElement(T.a,{component:"div",count:l.length,onChangePage:h,onChangeRowsPerPage:f,page:o,rowsPerPage:d,rowsPerPageOptions:[5,10,25]}))))};X.defaultProps={studentInCourses:[]};var q=X,G=t(839),K=t(827),U=["className","openAddStudentModal"],Q=Object(l.a)((function(){return{root:{marginBottom:"1rem"}}})),Y=function(e){var a=e.className,t=e.openAddStudentModal,n=Object(p.a)(e,U),c=Q();return r.a.createElement("div",Object.assign({},n,{className:Object(v.a)(c.root,a)}),r.a.createElement(G.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},r.a.createElement(G.a,{item:!0},r.a.createElement(O.a,{component:"h1",variant:"h3"},"H\u1ecdc sinh")),r.a.createElement(G.a,{item:!0},r.a.createElement(K.a,{onClick:t,color:"primary",variant:"contained"},"Th\xeam h\u1ecdc sinh"))))},Z=t(808),$=t(841),ee=t(799),ae=t(132),te=t.n(ae),ne=Object(l.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",alignItems:"center"},content:{padding:e.spacing(3),width:"600px",borderRadius:"0.25rem",backgroundColor:"white"},submitBtn:{padding:"0.5rem 3rem"},textField:{margin:"0.5rem 0 1rem 0"}}})),re=function(e){var a=ne(),t=e.handleClose,c=Object(n.useState)(""),l=Object(d.a)(c,2),s=l[0],u=l[1],o=F().addStudentInCourse;return r.a.createElement(h.a,{className:a.content},r.a.createElement(h.a,{className:a.header},r.a.createElement(O.a,{component:"h4",variant:"h4"},"Th\xeam h\u1ecdc sinh v\xe0o kh\xf3a h\u1ecdc"),r.a.createElement(ee.a,{onClick:t},r.a.createElement(te.a,null))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(s)}},r.a.createElement(Z.a,{component:"legend"},"Email"),r.a.createElement($.a,{className:a.textField,value:s,onChange:function(e){u(e.target.value)},variant:"outlined",fullWidth:!0}),r.a.createElement(K.a,{className:a.submitBtn,type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Th\xeam")))},ce=t(872),le=["students","className"],se=Object(l.a)((function(e){return{modal:{display:"grid",placeItems:"center"},files:{marginTop:e.spacing(3)}}})),ue=function(e){var a=e.students,t=e.className,c=Object(p.a)(e,le),l=Object(ce.a)(),s=l.open,u=l.handleOpen,o=l.handleClose,i=Object(n.useState)(null),b=Object(d.a)(i,2),E=b[0],O=b[1],j=Object(ce.a)(!1),C=j.open,x=j.handleClose,w=j.handleOpen,N=se();return r.a.createElement(H,null,r.a.createElement(h.a,Object.assign({},c,{className:Object(v.a)(N.root,t)}),r.a.createElement(Y,{openAddStudentModal:u}),r.a.createElement(q,{students:[],handleDeleteOne:function(e){return function(){O(a.find((function(a){return a.id===e}))),w()}}}),r.a.createElement(f.a,{className:N.modal,open:s,onClose:o},r.a.createElement(re,{handleSubmit:function(e){return e.preventDefault()},open:s,handleClose:o})),r.a.createElement(g.a,{open:C,onClose:x},r.a.createElement(m.c,{name:E&&E.name,handleCloseDialog:x}))))},oe=["course","className"],ie=Object(l.a)((function(e){return{root:{},label:{marginTop:e.spacing(1)},shareButton:{marginRight:e.spacing(2)},shareIcon:{marginRight:e.spacing(1)},applyButton:{color:e.palette.white,backgroundColor:s.a.green[600],"&:hover":{backgroundColor:s.a.green[900]}}}})),me=function(e){e.course;var a=e.className,t=Object(p.a)(e,oe),n=ie(),c=A().courseDetails;return r.a.createElement("div",Object.assign({},t,{className:Object(v.a)(n.root,a)}),r.a.createElement(G.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},r.a.createElement(G.a,{item:!0},r.a.createElement(O.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Kh\xf3a h\u1ecdc"),r.a.createElement(O.a,{component:"h1",gutterBottom:!0,variant:"h3"},c.name))))};me.defaultProps={};var de=me,pe=t(875),ve=t.n(pe),he=Object(l.a)((function(e){return{card:{padding:"1rem"},nameCell:{display:"flex",alignItems:"center"},avatar:{height:42,width:42,marginRight:e.spacing(2)}}})),fe=function(e){var a=e.teacher,t=he();return r.a.createElement(y.a,null,r.a.createElement("div",{className:t.nameCell},r.a.createElement(S.a,{className:t.avatar},r.a.createElement(ve.a,null)),r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h6"},a.displayName),r.a.createElement("div",null,a.email))))},ge=function(e){var a=e.title,t=he(),n=A().courseInstructors;return r.a.createElement(j.a,{className:t.card},r.a.createElement(O.a,{color:"primary",gutterBottom:!0,component:"h3",variant:"h3"},a),r.a.createElement(w.a,null,r.a.createElement(P.a,null,n&&r.a.createElement(k.a,{hover:!0},r.a.createElement(fe,{teacher:n})))))},be=["className"],Ee=Object(l.a)((function(e){return{root:{}}})),Oe=function(e){var a=e.className,t=Object(p.a)(e,be),n=Ee();return r.a.createElement(h.a,Object.assign({},t,{className:Object(v.a)(n.root,a)}),r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(ge,{title:"Gi\u1ea3ng vi\xean"}))))},je=t(151),Ce=t(215),xe=["course","className"],we=Object(l.a)((function(){return{root:{maxWidth:"1000px",padding:"1rem",margin:"auto"},form:{width:"100%"},btn:{marginTop:"1rem",padding:"0.5rem 3rem"},m1:{margin:"0.5rem 0 1rem 0"}}})),Ne=function(e){e.course;var a=e.className,t=Object(p.a)(e,xe),c=Object(Ce.e)(),l=A(),s=l.courseDetails,u=l.updateCourse,o=l.deleteCourse,i=we(),d=function(){var e=Object(W.a)(R.a.mark((function e(a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c.setValue("name",s.name)}),[s,c]),s?r.a.createElement(je.a,Object.assign({},t,{className:Object(v.a)(i.root,a)}),r.a.createElement("form",{onSubmit:c.handleSubmit(d),className:i.form,noValidate:!0,autoComplete:"off"},r.a.createElement(Z.a,{component:"legend"},"T\xean kh\xf3a h\u1ecdc"),r.a.createElement($.a,Object.assign({className:i.m1,variant:"outlined",defaultValue:s.name},c.register("name"),{fullWidth:!0})),r.a.createElement(K.a,{className:i.btn,type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:c.formState.isSubmitting},"L\u01b0u thay \u0111\u1ed5i"),r.a.createElement(m.d,{onClick:o,fullWidth:!0,className:i.btn},"X\xf3a kh\xf3a h\u1ecdc"))):null},ke=Object(l.a)((function(e){return{root:{width:e.breakpoints.values.lg,maxWidth:"100%",margin:"0 auto",padding:e.spacing(3)},tabs:{marginTop:e.spacing(3)},divider:{backgroundColor:s.a.grey[400]},content:{marginTop:e.spacing(3)}}})),ye=function(e){var a=ke(),t=Object(c.h)(),n=t.id,l=t.tab,s=Object(c.g)(),d=[{value:"overview",label:"T\u1ed5ng quan"},{value:"students",label:"H\u1ecdc vi\xean"},{value:"edit-info",label:"Th\xf4ng tin"}];return l?d.find((function(e){return e.value===l}))?r.a.createElement(V,{courseId:n},r.a.createElement(m.i,{className:a.root,title:"Course Details"},r.a.createElement(de,null),r.a.createElement(u.a,{className:a.tabs,onChange:function(e,a){s.push(a)},scrollButtons:"auto",value:l,variant:"scrollable"},d.map((function(e){return r.a.createElement(o.a,{key:e.value,label:e.label,value:e.value})}))),r.a.createElement(i.a,{className:a.divider}),r.a.createElement("div",{className:a.content},"overview"===l&&r.a.createElement(Oe,null),"students"===l&&r.a.createElement(ue,null),"edit-info"===l&&r.a.createElement(Ne,null)))):r.a.createElement(c.a,{to:"/errors/error-404"}):r.a.createElement(c.a,{to:"/admin/courses/".concat(n,"/overview")})}},871:function(e,a,t){"use strict";var n=t(16),r=t(0).useState;a.a=function(){var e=r(0),a=Object(n.a)(e,2),t=a[0],c=a[1],l=r(10),s=Object(n.a)(l,2),u=s[0],o=s[1];return{page:t,rowsPerPage:u,handleChangePage:function(e,a){c(a)},handleChangeRowsPerPage:function(e){o(e.target.value)}}}},872:function(e,a,t){"use strict";var n=t(16),r=t(0);a.a=function(e){var a=Object(r.useState)(e),t=Object(n.a)(a,2),c=t[0],l=t[1];return{open:c,handleClose:function(){l(!1)},handleOpen:function(){l(!0)}}}},875:function(e,a,t){"use strict";var n=t(17),r=t(18);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=r(t(0)),l=(0,n(t(19)).default)(c.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");a.default=l}}]);
//# sourceMappingURL=4.65b02952.chunk.js.map